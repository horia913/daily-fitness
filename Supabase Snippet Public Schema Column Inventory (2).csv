schemaname,tablename,policyname,permissive,roles,cmd,qual,with_check
public,sessions,Clients can view their sessions,PERMISSIVE,{public},SELECT,(client_id = auth.uid()),null
public,sessions,Coaches can manage their sessions,PERMISSIVE,{public},ALL,(coach_id = auth.uid()),null
public,clients,Clients can view their coach relationship,PERMISSIVE,{public},SELECT,(client_id = auth.uid()),null
public,clients,Coaches can view their clients,PERMISSIVE,{public},SELECT,(coach_id = auth.uid()),null
public,clients,clients_manage_coach,PERMISSIVE,{public},ALL,(coach_id = auth.uid()),(coach_id = auth.uid())
public,challenges,challenges_manage_coach,PERMISSIVE,{public},ALL,"(EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text, 'super_coach'::text, 'supercoach'::text])))))",null
public,challenges,challenges_select_public,PERMISSIVE,{public},SELECT,((is_public = true) AND (status = 'active'::text)),null
public,challenge_participants,participants_insert_own,PERMISSIVE,{public},INSERT,null,(client_id = auth.uid())
public,challenge_participants,participants_select_coach,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text, 'super_coach'::text, 'supercoach'::text])))))",null
public,challenge_participants,participants_select_own,PERMISSIVE,{public},SELECT,(client_id = auth.uid()),null
public,exercise_instructions,Anyone can read exercise instructions,PERMISSIVE,{public},SELECT,true,null
public,exercise_instructions,Coaches can manage their exercise instructions,PERMISSIVE,{public},ALL,"(EXISTS ( SELECT 1
   FROM (exercises e
     JOIN profiles p ON ((e.coach_id = p.id)))
  WHERE ((e.id = exercise_instructions.exercise_id) AND (p.id = auth.uid()) AND (p.role = 'coach'::text))))",null
public,exercise_tips,Anyone can read exercise tips,PERMISSIVE,{public},SELECT,true,null
public,exercise_tips,Coaches can manage their exercise tips,PERMISSIVE,{public},ALL,"(EXISTS ( SELECT 1
   FROM (exercises e
     JOIN profiles p ON ((e.coach_id = p.id)))
  WHERE ((e.id = exercise_tips.exercise_id) AND (p.id = auth.uid()) AND (p.role = 'coach'::text))))",null
public,leaderboard_rankings,Anyone can view leaderboard rankings,PERMISSIVE,{authenticated},SELECT,true,null
public,leaderboard_rankings,System can manage rankings,PERMISSIVE,{authenticated},ALL,false,false
public,exercise_muscle_groups,Anyone can read exercise muscle groups,PERMISSIVE,{public},SELECT,true,null
public,exercise_muscle_groups,Coaches can manage their exercise muscle groups,PERMISSIVE,{public},ALL,"(EXISTS ( SELECT 1
   FROM (exercises e
     JOIN profiles p ON ((e.coach_id = p.id)))
  WHERE ((e.id = exercise_muscle_groups.exercise_id) AND (p.id = auth.uid()) AND (p.role = 'coach'::text))))",null
public,exercise_equipment,Anyone can read exercise equipment,PERMISSIVE,{public},SELECT,true,null
public,exercise_equipment,Coaches can manage their exercise equipment,PERMISSIVE,{public},ALL,"(EXISTS ( SELECT 1
   FROM (exercises e
     JOIN profiles p ON ((e.coach_id = p.id)))
  WHERE ((e.id = exercise_equipment.exercise_id) AND (p.id = auth.uid()) AND (p.role = 'coach'::text))))",null
public,workout_set_details,Users can insert their own workout set details,PERMISSIVE,{public},INSERT,null,"(EXISTS ( SELECT 1
   FROM (workout_exercise_logs wel
     JOIN workout_logs wl ON ((wel.workout_log_id = wl.id)))
  WHERE ((wel.id = workout_set_details.workout_exercise_log_id) AND (wl.client_id = auth.uid()))))"
public,workout_set_details,Users can read their own workout set details,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM (workout_exercise_logs wel
     JOIN workout_logs wl ON ((wel.workout_log_id = wl.id)))
  WHERE ((wel.id = workout_set_details.workout_exercise_log_id) AND (wl.client_id = auth.uid()))))",null
public,workout_set_details,workout_set_details_update,PERMISSIVE,{public},UPDATE,"(EXISTS ( SELECT 1
   FROM (workout_exercise_logs wel
     JOIN workout_logs wl ON ((wel.workout_log_id = wl.id)))
  WHERE ((wel.id = workout_set_details.workout_exercise_log_id) AND (wl.client_id = auth.uid()))))","(EXISTS ( SELECT 1
   FROM (workout_exercise_logs wel
     JOIN workout_logs wl ON ((wel.workout_log_id = wl.id)))
  WHERE ((wel.id = workout_set_details.workout_exercise_log_id) AND (wl.client_id = auth.uid()))))"
public,assigned_meal_plans,assigned_meal_plans_delete,PERMISSIVE,{public},DELETE,"((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,assigned_meal_plans,assigned_meal_plans_insert,PERMISSIVE,{public},INSERT,null,"((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,assigned_meal_plans,assigned_meal_plans_select,PERMISSIVE,{public},SELECT,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = assigned_meal_plans.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,assigned_meal_plans,assigned_meal_plans_update,PERMISSIVE,{public},UPDATE,"((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))","((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,assigned_workouts,Coaches can manage workouts,PERMISSIVE,{public},ALL,(coach_id = auth.uid()),null
public,assigned_workouts,Users can see workouts assigned to them,PERMISSIVE,{public},SELECT,((coach_id = auth.uid()) OR (client_id = auth.uid())),null
public,meal_completions,Clients can insert their own meal completions,PERMISSIVE,{public},INSERT,null,(client_id = auth.uid())
public,meal_completions,Clients can read their own meal completions,PERMISSIVE,{public},SELECT,(client_id = auth.uid()),null
public,meal_completions,Coaches can read client meal completions,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM clients c
  WHERE ((c.client_id = meal_completions.client_id) AND (c.coach_id = auth.uid()) AND (c.status = 'active'::text))))",null
public,clip_cards,clip_cards_delete,PERMISSIVE,{public},DELETE,"((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,clip_cards,clip_cards_insert,PERMISSIVE,{public},INSERT,null,"((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,clip_cards,clip_cards_select,PERMISSIVE,{public},SELECT,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = clip_cards.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,clip_cards,clip_cards_update,PERMISSIVE,{public},UPDATE,"((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))","((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,meal_plans,Clients can read assigned meal plans,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM meal_plan_assignments mpa
  WHERE ((mpa.meal_plan_id = meal_plans.id) AND (mpa.client_id = auth.uid()) AND (mpa.is_active = true))))",null
public,meal_plans,Clients can view assigned meal plans,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM meal_plan_assignments mpa
  WHERE ((mpa.meal_plan_id = meal_plans.id) AND (mpa.client_id = auth.uid()))))",null
public,meal_plans,Coaches can manage their meal plans,PERMISSIVE,{public},ALL,(auth.uid() = coach_id),null
public,meals,Clients can read meals from assigned meal plans,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM (meal_plan_assignments mpa
     JOIN meal_plans mp ON ((mp.id = mpa.meal_plan_id)))
  WHERE ((mp.id = meals.meal_plan_id) AND (mpa.client_id = auth.uid()) AND (mpa.is_active = true))))",null
public,meals,Clients can view meals from assigned meal plans,PERMISSIVE,{public},SELECT,"(auth.uid() IN ( SELECT meal_plan_assignments.client_id
   FROM meal_plan_assignments
  WHERE (meal_plan_assignments.meal_plan_id = meals.meal_plan_id)))",null
public,meals,Coaches can manage meals for their meal plans,PERMISSIVE,{public},ALL,"(auth.uid() IN ( SELECT meal_plans.coach_id
   FROM meal_plans
  WHERE (meal_plans.id = meals.meal_plan_id)))",null
public,meals,Coaches can manage meals in their meal plans,PERMISSIVE,{public},ALL,"(meal_plan_id IN ( SELECT meal_plans.id
   FROM meal_plans
  WHERE (meal_plans.coach_id = auth.uid())))",null
public,meals,Coaches can read meals from their meal plans,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM meal_plans mp
  WHERE ((mp.id = meals.meal_plan_id) AND (mp.coach_id = auth.uid()))))",null
public,workout_giant_set_exercise_logs,Users can insert their own giant set exercise logs,PERMISSIVE,{public},INSERT,null,"(EXISTS ( SELECT 1
   FROM (workout_set_logs wsl
     JOIN workout_logs wl ON ((wsl.workout_log_id = wl.id)))
  WHERE ((wsl.id = workout_giant_set_exercise_logs.workout_set_log_id) AND (wl.client_id = auth.uid()))))"
public,workout_giant_set_exercise_logs,Users can read their own giant set exercise logs,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM (workout_set_logs wsl
     JOIN workout_logs wl ON ((wsl.workout_log_id = wl.id)))
  WHERE ((wsl.id = workout_giant_set_exercise_logs.workout_set_log_id) AND (wl.client_id = auth.uid()))))",null
public,foods,foods_delete_coach_admin,PERMISSIVE,{public},DELETE,"(EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text])))))",null
public,foods,foods_insert_coach_admin,PERMISSIVE,{public},INSERT,null,"(EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text])))))"
public,foods,foods_select_public,PERMISSIVE,{public},SELECT,(auth.role() = 'authenticated'::text),null
public,foods,foods_update_coach_admin,PERMISSIVE,{public},UPDATE,"(EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text])))))","(EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text])))))"
public,meal_plan_assignments,Clients can read their own assignments,PERMISSIVE,{public},SELECT,(client_id = auth.uid()),null
public,meal_plan_assignments,Clients can view their own assignments,PERMISSIVE,{public},SELECT,(auth.uid() = client_id),null
public,meal_plan_assignments,Clients can view their own meal plan assignments,PERMISSIVE,{public},SELECT,(client_id = auth.uid()),null
public,meal_plan_assignments,Coaches can manage assignments for their clients,PERMISSIVE,{public},ALL,(auth.uid() = coach_id),null
public,meal_plan_assignments,Coaches can manage their meal plan assignments,PERMISSIVE,{public},ALL,(coach_id = auth.uid()),null
public,meal_plan_assignments,Coaches can manage their own assignments,PERMISSIVE,{public},ALL,(coach_id = auth.uid()),null
public,meal_plan_assignments,meal_plan_assignments_delete,PERMISSIVE,{public},DELETE,"((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,meal_plan_assignments,meal_plan_assignments_insert,PERMISSIVE,{public},INSERT,null,"((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,meal_plan_assignments,meal_plan_assignments_select,PERMISSIVE,{public},SELECT,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = meal_plan_assignments.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,meal_plan_assignments,meal_plan_assignments_update,PERMISSIVE,{public},UPDATE,"((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))","((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,challenge_scoring_categories,scoring_categories_select_all,PERMISSIVE,{public},SELECT,true,null
public,challenge_video_submissions,video_submissions_insert_own,PERMISSIVE,{public},INSERT,null,"(EXISTS ( SELECT 1
   FROM challenge_participants
  WHERE ((challenge_participants.id = challenge_video_submissions.participant_id) AND (challenge_participants.client_id = auth.uid()))))"
public,challenge_video_submissions,video_submissions_manage_coach,PERMISSIVE,{public},ALL,"(EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text, 'super_coach'::text, 'supercoach'::text])))))",null
public,challenge_video_submissions,video_submissions_select_own,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM challenge_participants
  WHERE ((challenge_participants.id = challenge_video_submissions.participant_id) AND (challenge_participants.client_id = auth.uid()))))",null
public,profiles,Coaches can read client profiles,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.coach_id = auth.uid()) AND (clients.client_id = profiles.id))))",null
public,profiles,Users can insert their own profile,PERMISSIVE,{public},INSERT,null,(auth.uid() = id)
public,profiles,Users can view their own profile,PERMISSIVE,{public},SELECT,(auth.uid() = id),null
public,profiles,profiles_select_own_or_coach,PERMISSIVE,{public},SELECT,"((id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = profiles.id) AND (clients.coach_id = auth.uid())))) OR is_admin(auth.uid()))",null
public,profiles,profiles_update_own,PERMISSIVE,{public},UPDATE,(id = auth.uid()),(id = auth.uid())
public,meal_food_items,Clients can view food items from assigned meals,PERMISSIVE,{public},SELECT,"(auth.uid() IN ( SELECT meal_plan_assignments.client_id
   FROM (meal_plan_assignments
     JOIN meals ON ((meal_plan_assignments.meal_plan_id = meals.meal_plan_id)))
  WHERE (meals.id = meal_food_items.meal_id)))",null
public,meal_food_items,Coaches can manage food items for their meals,PERMISSIVE,{public},ALL,"(auth.uid() IN ( SELECT meal_plans.coach_id
   FROM (meal_plans
     JOIN meals ON ((meal_plans.id = meals.meal_plan_id)))
  WHERE (meals.id = meal_food_items.meal_id)))",null
public,meal_food_items,Coaches can manage meal food items,PERMISSIVE,{public},ALL,"(meal_id IN ( SELECT m.id
   FROM (meals m
     JOIN meal_plans mp ON ((m.meal_plan_id = mp.id)))
  WHERE (mp.coach_id = auth.uid())))",null
public,workout_set_logs,Clients insert own set logs,PERMISSIVE,{public},INSERT,null,(auth.uid() = client_id)
public,workout_set_logs,Clients view own set logs,PERMISSIVE,{public},SELECT,(auth.uid() = client_id),null
public,exercise_categories,Anyone can read exercise categories,PERMISSIVE,{public},SELECT,(auth.role() = 'authenticated'::text),null
public,exercise_categories,Coaches can delete exercise categories,PERMISSIVE,{public},DELETE,"(EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text])))))",null
public,exercise_categories,Coaches can insert exercise categories,PERMISSIVE,{public},INSERT,null,"(EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text])))))"
public,exercise_categories,Coaches can update exercise categories,PERMISSIVE,{public},UPDATE,"(EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text])))))","(EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text])))))"
public,invite_codes,Anyone can validate invite codes,PERMISSIVE,{public},SELECT,((is_active = true) AND ((expires_at IS NULL) OR (expires_at > now()))),null
public,invite_codes,Coaches can manage their invite codes,PERMISSIVE,{public},ALL,(coach_id = auth.uid()),null
public,meal_items,Clients can read assigned meal items,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM (meals m
     JOIN meal_plan_assignments mpa ON ((mpa.meal_plan_id = m.meal_plan_id)))
  WHERE ((m.id = meal_items.meal_id) AND (mpa.client_id = auth.uid()) AND (mpa.is_active = true))))",null
public,meal_items,Coaches can manage meal items,PERMISSIVE,{public},ALL,"(EXISTS ( SELECT 1
   FROM (meals m
     JOIN meal_plans mp ON ((mp.id = m.meal_plan_id)))
  WHERE ((m.id = meal_items.meal_id) AND (mp.coach_id = auth.uid()))))",null
public,program_schedule,Clients can view schedule for assigned programs,PERMISSIVE,{public},SELECT,"((EXISTS ( SELECT 1
   FROM program_assignments pa
  WHERE ((pa.program_id = program_schedule.program_id) AND (pa.client_id = auth.uid()) AND (pa.status = 'active'::text)))) OR (EXISTS ( SELECT 1
   FROM workout_programs wp
  WHERE ((wp.id = program_schedule.program_id) AND (wp.coach_id = auth.uid())))) OR is_admin(auth.uid()))",null
public,program_schedule,Coaches can delete schedules for their programs,PERMISSIVE,{public},DELETE,"(EXISTS ( SELECT 1
   FROM workout_programs wp
  WHERE ((wp.id = program_schedule.program_id) AND (wp.coach_id = auth.uid()))))",null
public,program_schedule,Coaches can insert schedules for their programs,PERMISSIVE,{public},INSERT,null,"(EXISTS ( SELECT 1
   FROM workout_programs wp
  WHERE ((wp.id = program_schedule.program_id) AND (wp.coach_id = auth.uid()))))"
public,program_schedule,Coaches can update schedules for their programs,PERMISSIVE,{public},UPDATE,"(EXISTS ( SELECT 1
   FROM workout_programs wp
  WHERE ((wp.id = program_schedule.program_id) AND (wp.coach_id = auth.uid()))))","(EXISTS ( SELECT 1
   FROM workout_programs wp
  WHERE ((wp.id = program_schedule.program_id) AND (wp.coach_id = auth.uid()))))"
public,program_schedule,Coaches can view schedules for their programs,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM workout_programs wp
  WHERE ((wp.id = program_schedule.program_id) AND (wp.coach_id = auth.uid()))))",null
public,daily_workout_cache,Clients can manage their workout cache,PERMISSIVE,{public},ALL,(client_id = auth.uid()),null
public,clipcard_types,Clients can view clipcard types,PERMISSIVE,{public},SELECT,(is_active = true),null
public,clipcard_types,Coaches can view their own clipcard types,PERMISSIVE,{public},SELECT,(auth.uid() = coach_id),null
public,clipcard_types,clipcard_types_delete,PERMISSIVE,{public},DELETE,(auth.uid() = coach_id),null
public,clipcard_types,clipcard_types_insert,PERMISSIVE,{public},INSERT,null,(auth.uid() = coach_id)
public,clipcard_types,clipcard_types_update,PERMISSIVE,{public},UPDATE,(coach_id = auth.uid()),(coach_id = auth.uid())
public,workout_block_exercises,Clients can read assigned workout block exercises,PERMISSIVE,{authenticated},SELECT,"(block_id IN ( SELECT workout_blocks.id
   FROM workout_blocks
  WHERE (workout_blocks.template_id IN ( SELECT workout_assignments.workout_template_id
           FROM workout_assignments
          WHERE (workout_assignments.client_id = auth.uid())))))",null
public,workout_block_exercises,Clients can view exercises in assigned workouts,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM ((workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
     JOIN workout_assignments wa ON ((wt.id = wa.workout_template_id)))
  WHERE ((wb.id = workout_block_exercises.block_id) AND (wa.client_id = auth.uid()))))",null
public,workout_block_exercises,Coaches can delete exercises from their blocks,PERMISSIVE,{public},DELETE,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_block_exercises.block_id) AND (wt.coach_id = auth.uid()))))",null
public,workout_block_exercises,Coaches can insert exercises into their blocks,PERMISSIVE,{public},INSERT,null,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_block_exercises.block_id) AND (wt.coach_id = auth.uid()))))"
public,workout_block_exercises,Coaches can update exercises in their blocks,PERMISSIVE,{public},UPDATE,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_block_exercises.block_id) AND (wt.coach_id = auth.uid()))))","(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_block_exercises.block_id) AND (wt.coach_id = auth.uid()))))"
public,workout_block_exercises,Coaches can view exercises in their blocks,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_block_exercises.block_id) AND (wt.coach_id = auth.uid()))))",null
public,coach_availability,Clients can view coach availability,PERMISSIVE,{public},SELECT,(is_active = true),null
public,coach_availability,Coaches can manage their own availability,PERMISSIVE,{public},ALL,(auth.uid() = coach_id),null
public,workout_cluster_sets,Clients can view cluster sets in assigned workouts,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM ((workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
     JOIN workout_assignments wa ON ((wt.id = wa.workout_template_id)))
  WHERE ((wb.id = workout_cluster_sets.block_id) AND (wa.client_id = auth.uid()))))",null
public,workout_cluster_sets,Coaches can delete cluster sets from their blocks,PERMISSIVE,{public},DELETE,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_cluster_sets.block_id) AND (wt.coach_id = auth.uid()))))",null
public,workout_cluster_sets,Coaches can insert cluster sets into their blocks,PERMISSIVE,{public},INSERT,null,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_cluster_sets.block_id) AND (wt.coach_id = auth.uid()))))"
public,workout_cluster_sets,Coaches can update cluster sets in their blocks,PERMISSIVE,{public},UPDATE,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_cluster_sets.block_id) AND (wt.coach_id = auth.uid()))))","(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_cluster_sets.block_id) AND (wt.coach_id = auth.uid()))))"
public,workout_cluster_sets,Coaches can view cluster sets in their blocks,PERMISSIVE,{public},SELECT,"((EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_cluster_sets.block_id) AND (wt.coach_id = auth.uid())))) OR is_admin(auth.uid()))",null
public,workout_templates,Clients can view assigned workout templates,PERMISSIVE,{public},SELECT,"((EXISTS ( SELECT 1
   FROM workout_assignments wa
  WHERE ((wa.workout_template_id = workout_templates.id) AND (wa.client_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM (program_assignments pa
     JOIN program_schedule ps ON ((pa.program_id = ps.program_id)))
  WHERE ((ps.template_id = workout_templates.id) AND (pa.client_id = auth.uid()) AND (pa.status = 'active'::text)))) OR (coach_id = auth.uid()) OR is_admin(auth.uid()))",null
public,workout_templates,Coaches can manage workout templates,PERMISSIVE,{public},ALL,(coach_id = auth.uid()),null
public,workout_blocks,Clients can read assigned workout blocks,PERMISSIVE,{authenticated},SELECT,"(template_id IN ( SELECT workout_assignments.workout_template_id
   FROM workout_assignments
  WHERE (workout_assignments.client_id = auth.uid())))",null
public,workout_blocks,Clients can view blocks in assigned workouts,PERMISSIVE,{public},SELECT,"((EXISTS ( SELECT 1
   FROM (workout_assignments wa
     JOIN workout_templates wt ON ((wa.workout_template_id = wt.id)))
  WHERE ((wt.id = workout_blocks.template_id) AND (wa.client_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM (program_assignments pa
     JOIN program_schedule ps ON ((pa.program_id = ps.program_id)))
  WHERE ((ps.template_id = workout_blocks.template_id) AND (pa.client_id = auth.uid()) AND (pa.status = 'active'::text)))) OR (EXISTS ( SELECT 1
   FROM workout_templates wt
  WHERE ((wt.id = workout_blocks.template_id) AND (wt.coach_id = auth.uid())))) OR is_admin(auth.uid()))",null
public,workout_blocks,Coaches can delete blocks from their templates,PERMISSIVE,{public},DELETE,"(EXISTS ( SELECT 1
   FROM workout_templates wt
  WHERE ((wt.id = workout_blocks.template_id) AND (wt.coach_id = auth.uid()))))",null
public,workout_blocks,Coaches can insert blocks into their templates,PERMISSIVE,{public},INSERT,null,"(EXISTS ( SELECT 1
   FROM workout_templates wt
  WHERE ((wt.id = workout_blocks.template_id) AND (wt.coach_id = auth.uid()))))"
public,workout_blocks,Coaches can manage workout blocks,PERMISSIVE,{public},ALL,"(template_id IN ( SELECT workout_templates.id
   FROM workout_templates
  WHERE (workout_templates.coach_id = auth.uid())))",null
public,workout_blocks,Coaches can update blocks in their templates,PERMISSIVE,{public},UPDATE,"(EXISTS ( SELECT 1
   FROM workout_templates wt
  WHERE ((wt.id = workout_blocks.template_id) AND (wt.coach_id = auth.uid()))))","(EXISTS ( SELECT 1
   FROM workout_templates wt
  WHERE ((wt.id = workout_blocks.template_id) AND (wt.coach_id = auth.uid()))))"
public,workout_blocks,Coaches can view blocks in their templates,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM workout_templates wt
  WHERE ((wt.id = workout_blocks.template_id) AND (wt.coach_id = auth.uid()))))",null
public,clipcards,Clients can view their own clipcards,PERMISSIVE,{public},SELECT,(auth.uid() = client_id),null
public,clipcards,Coaches can manage their clients' clipcards,PERMISSIVE,{public},ALL,(auth.uid() = coach_id),null
public,clipcards,Coaches can view their clipcards,PERMISSIVE,{public},SELECT,(auth.uid() = coach_id),null
public,clipcards,clipcards_delete,PERMISSIVE,{public},DELETE,(auth.uid() = coach_id),null
public,clipcards,clipcards_insert,PERMISSIVE,{public},INSERT,null,(auth.uid() = coach_id)
public,clipcards,clipcards_select,PERMISSIVE,{public},SELECT,((auth.uid() = coach_id) OR (auth.uid() = client_id)),null
public,clipcards,clipcards_update,PERMISSIVE,{public},UPDATE,(coach_id = auth.uid()),(coach_id = auth.uid())
public,program_days,program_days_delete,PERMISSIVE,{public},DELETE,"(EXISTS ( SELECT 1
   FROM (workout_programs wp
     JOIN profiles p ON ((wp.coach_id = p.id)))
  WHERE ((wp.id = program_days.program_id) AND (p.id = auth.uid()) AND (p.role = ANY (ARRAY['coach'::text, 'admin'::text])))))",null
public,program_days,program_days_insert,PERMISSIVE,{public},INSERT,null,"(EXISTS ( SELECT 1
   FROM (workout_programs wp
     JOIN profiles p ON ((wp.coach_id = p.id)))
  WHERE ((wp.id = program_days.program_id) AND (p.id = auth.uid()) AND (p.role = ANY (ARRAY['coach'::text, 'admin'::text])))))"
public,program_days,program_days_select,PERMISSIVE,{public},SELECT,(auth.role() = 'authenticated'::text),null
public,program_days,program_days_update,PERMISSIVE,{public},UPDATE,"(EXISTS ( SELECT 1
   FROM (workout_programs wp
     JOIN profiles p ON ((wp.coach_id = p.id)))
  WHERE ((wp.id = program_days.program_id) AND (p.id = auth.uid()) AND (p.role = ANY (ARRAY['coach'::text, 'admin'::text])))))","(EXISTS ( SELECT 1
   FROM (workout_programs wp
     JOIN profiles p ON ((wp.coach_id = p.id)))
  WHERE ((wp.id = program_days.program_id) AND (p.id = auth.uid()) AND (p.role = ANY (ARRAY['coach'::text, 'admin'::text])))))"
public,workout_assignments,Clients can view their workout assignments,PERMISSIVE,{public},SELECT,(client_id = auth.uid()),null
public,workout_assignments,Coaches can manage workout assignments,PERMISSIVE,{public},ALL,(coach_id = auth.uid()),null
public,workout_block_assignments,workout_block_assignments_delete,PERMISSIVE,{public},DELETE,"(EXISTS ( SELECT 1
   FROM workout_assignments wa
  WHERE ((wa.id = workout_block_assignments.workout_assignment_id) AND ((wa.coach_id = auth.uid()) OR (EXISTS ( SELECT 1
           FROM profiles
          WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text))))))))",null
public,workout_block_assignments,workout_block_assignments_insert,PERMISSIVE,{public},INSERT,null,"(EXISTS ( SELECT 1
   FROM workout_assignments wa
  WHERE ((wa.id = workout_block_assignments.workout_assignment_id) AND ((wa.coach_id = auth.uid()) OR (EXISTS ( SELECT 1
           FROM profiles
          WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text))))))))"
public,workout_block_assignments,workout_block_assignments_select,PERMISSIVE,{public},SELECT,"((EXISTS ( SELECT 1
   FROM workout_assignments wa
  WHERE ((wa.id = workout_block_assignments.workout_assignment_id) AND ((wa.client_id = auth.uid()) OR (wa.coach_id = auth.uid()) OR (EXISTS ( SELECT 1
           FROM clients c
          WHERE ((c.client_id = wa.client_id) AND (c.coach_id = auth.uid())))))))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,workout_block_assignments,workout_block_assignments_update,PERMISSIVE,{public},UPDATE,"(EXISTS ( SELECT 1
   FROM workout_assignments wa
  WHERE ((wa.id = workout_block_assignments.workout_assignment_id) AND ((wa.coach_id = auth.uid()) OR (EXISTS ( SELECT 1
           FROM profiles
          WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text))))))))","(EXISTS ( SELECT 1
   FROM workout_assignments wa
  WHERE ((wa.id = workout_block_assignments.workout_assignment_id) AND ((wa.coach_id = auth.uid()) OR (EXISTS ( SELECT 1
           FROM profiles
          WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text))))))))"
public,workout_exercise_assignments,workout_exercise_assignments_delete,PERMISSIVE,{public},DELETE,"(EXISTS ( SELECT 1
   FROM (workout_block_assignments wba
     JOIN workout_assignments wa ON ((wa.id = wba.workout_assignment_id)))
  WHERE ((wba.id = workout_exercise_assignments.workout_block_assignment_id) AND ((wa.coach_id = auth.uid()) OR (EXISTS ( SELECT 1
           FROM profiles
          WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text))))))))",null
public,workout_exercise_assignments,workout_exercise_assignments_insert,PERMISSIVE,{public},INSERT,null,"(EXISTS ( SELECT 1
   FROM (workout_block_assignments wba
     JOIN workout_assignments wa ON ((wa.id = wba.workout_assignment_id)))
  WHERE ((wba.id = workout_exercise_assignments.workout_block_assignment_id) AND ((wa.coach_id = auth.uid()) OR (EXISTS ( SELECT 1
           FROM profiles
          WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text))))))))"
public,workout_exercise_assignments,workout_exercise_assignments_select,PERMISSIVE,{public},SELECT,"((EXISTS ( SELECT 1
   FROM (workout_block_assignments wba
     JOIN workout_assignments wa ON ((wa.id = wba.workout_assignment_id)))
  WHERE ((wba.id = workout_exercise_assignments.workout_block_assignment_id) AND ((wa.client_id = auth.uid()) OR (wa.coach_id = auth.uid()) OR (EXISTS ( SELECT 1
           FROM clients c
          WHERE ((c.client_id = wa.client_id) AND (c.coach_id = auth.uid())))))))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,workout_exercise_assignments,workout_exercise_assignments_update,PERMISSIVE,{public},UPDATE,"(EXISTS ( SELECT 1
   FROM (workout_block_assignments wba
     JOIN workout_assignments wa ON ((wa.id = wba.workout_assignment_id)))
  WHERE ((wba.id = workout_exercise_assignments.workout_block_assignment_id) AND ((wa.coach_id = auth.uid()) OR (EXISTS ( SELECT 1
           FROM profiles
          WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text))))))))","(EXISTS ( SELECT 1
   FROM (workout_block_assignments wba
     JOIN workout_assignments wa ON ((wa.id = wba.workout_assignment_id)))
  WHERE ((wba.id = workout_exercise_assignments.workout_block_assignment_id) AND ((wa.coach_id = auth.uid()) OR (EXISTS ( SELECT 1
           FROM profiles
          WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text))))))))"
public,program_day_assignments,Clients view own program day assignments,PERMISSIVE,{authenticated},SELECT,"(program_assignment_id IN ( SELECT program_assignments.id
   FROM program_assignments
  WHERE (program_assignments.client_id = auth.uid())))",null
public,program_day_assignments,Coaches manage program day assignments,PERMISSIVE,{authenticated},ALL,"(program_assignment_id IN ( SELECT program_assignments.id
   FROM program_assignments
  WHERE (program_assignments.program_id IN ( SELECT workout_programs.id
           FROM workout_programs
          WHERE (workout_programs.coach_id = auth.uid())))))",null
public,program_assignments,Clients can view their program assignments,PERMISSIVE,{public},SELECT,(client_id = auth.uid()),null
public,program_assignments,Coaches can manage program assignments,PERMISSIVE,{public},ALL,(coach_id = auth.uid()),null
public,workout_time_protocols,Clients can view time protocols in assigned workouts,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM ((workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
     JOIN workout_assignments wa ON ((wt.id = wa.workout_template_id)))
  WHERE ((wb.id = workout_time_protocols.block_id) AND (wa.client_id = auth.uid()))))",null
public,workout_time_protocols,Coaches can delete time protocols from their blocks,PERMISSIVE,{public},DELETE,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_time_protocols.block_id) AND (wt.coach_id = auth.uid()))))",null
public,workout_time_protocols,Coaches can insert time protocols into their blocks,PERMISSIVE,{public},INSERT,null,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_time_protocols.block_id) AND (wt.coach_id = auth.uid()))))"
public,workout_time_protocols,Coaches can update time protocols in their blocks,PERMISSIVE,{public},UPDATE,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_time_protocols.block_id) AND (wt.coach_id = auth.uid()))))","(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_time_protocols.block_id) AND (wt.coach_id = auth.uid()))))"
public,workout_time_protocols,Coaches can view time protocols in their blocks,PERMISSIVE,{public},SELECT,"((EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_time_protocols.block_id) AND (wt.coach_id = auth.uid())))) OR is_admin(auth.uid()))",null
public,workout_programs,Clients can view assigned workout programs,PERMISSIVE,{public},SELECT,"((EXISTS ( SELECT 1
   FROM program_assignments pa
  WHERE ((pa.program_id = workout_programs.id) AND (pa.client_id = auth.uid()) AND (pa.status = 'active'::text)))) OR (coach_id = auth.uid()) OR is_admin(auth.uid()))",null
public,workout_programs,Coaches can manage workout programs,PERMISSIVE,{public},ALL,(coach_id = auth.uid()),null
public,workout_ladder_sets,Coaches can delete ladder sets from their blocks,PERMISSIVE,{public},DELETE,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_ladder_sets.block_id) AND (wt.coach_id = auth.uid()))))",null
public,workout_ladder_sets,Coaches can insert ladder sets into their blocks,PERMISSIVE,{public},INSERT,null,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_ladder_sets.block_id) AND (wt.coach_id = auth.uid()))))"
public,workout_ladder_sets,Coaches can update ladder sets in their blocks,PERMISSIVE,{public},UPDATE,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_ladder_sets.block_id) AND (wt.coach_id = auth.uid()))))","(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_ladder_sets.block_id) AND (wt.coach_id = auth.uid()))))"
public,workout_ladder_sets,Coaches can view ladder sets in their blocks,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_ladder_sets.block_id) AND (wt.coach_id = auth.uid()))))",null
public,workout_rest_pause_sets,Clients can view rest pause sets in assigned workouts,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM ((workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
     JOIN workout_assignments wa ON ((wt.id = wa.workout_template_id)))
  WHERE ((wb.id = workout_rest_pause_sets.block_id) AND (wa.client_id = auth.uid()))))",null
public,workout_rest_pause_sets,Coaches can delete rest pause sets from their blocks,PERMISSIVE,{public},DELETE,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_rest_pause_sets.block_id) AND (wt.coach_id = auth.uid()))))",null
public,workout_rest_pause_sets,Coaches can insert rest pause sets into their blocks,PERMISSIVE,{public},INSERT,null,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_rest_pause_sets.block_id) AND (wt.coach_id = auth.uid()))))"
public,workout_rest_pause_sets,Coaches can update rest pause sets in their blocks,PERMISSIVE,{public},UPDATE,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_rest_pause_sets.block_id) AND (wt.coach_id = auth.uid()))))","(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_rest_pause_sets.block_id) AND (wt.coach_id = auth.uid()))))"
public,workout_rest_pause_sets,Coaches can view rest pause sets in their blocks,PERMISSIVE,{public},SELECT,"((EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_rest_pause_sets.block_id) AND (wt.coach_id = auth.uid())))) OR is_admin(auth.uid()))",null
public,workout_categories,Coaches can delete workout categories,PERMISSIVE,{public},DELETE,"((coach_id = auth.uid()) AND (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text]))))))",null
public,workout_categories,Coaches can insert workout categories,PERMISSIVE,{public},INSERT,null,"((coach_id = auth.uid()) AND (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text]))))))"
public,workout_categories,Coaches can manage their workout categories,PERMISSIVE,{public},ALL,(auth.uid() = coach_id),null
public,workout_categories,Coaches can update workout categories,PERMISSIVE,{public},UPDATE,"((coach_id = auth.uid()) AND (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text]))))))","((coach_id = auth.uid()) AND (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text]))))))"
public,workout_categories,Coaches can view workout categories,PERMISSIVE,{public},SELECT,"((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text])) AND (profiles.id = workout_categories.coach_id)))))",null
public,workout_categories,workout_categories_delete_coach_admin,PERMISSIVE,{public},DELETE,"((EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text]))))) OR (coach_id = auth.uid()))",null
public,workout_categories,workout_categories_insert_coach_admin,PERMISSIVE,{public},INSERT,null,"((EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text]))))) OR (coach_id = auth.uid()))"
public,workout_categories,workout_categories_select_public,PERMISSIVE,{public},SELECT,(auth.role() = 'authenticated'::text),null
public,workout_categories,workout_categories_update_coach_admin,PERMISSIVE,{public},UPDATE,"((EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text]))))) OR (coach_id = auth.uid()))","((EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text]))))) OR (coach_id = auth.uid()))"
public,workout_sessions,Clients can manage their sessions,PERMISSIVE,{public},ALL,(auth.uid() = client_id),null
public,meal_photo_logs,meal_photo_logs_update,PERMISSIVE,{public},UPDATE,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text, 'super_coach'::text, 'supercoach'::text]))))))","((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text, 'super_coach'::text, 'supercoach'::text]))))))"
public,meal_photo_logs,meal_photos_delete_coach,PERMISSIVE,{public},DELETE,"(EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text, 'super_coach'::text, 'supercoach'::text])))))",null
public,meal_photo_logs,meal_photos_insert_own,PERMISSIVE,{public},INSERT,null,(auth.uid() = client_id)
public,meal_photo_logs,meal_photos_select_coach,PERMISSIVE,{public},SELECT,"((EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text, 'super_coach'::text, 'supercoach'::text]))))) OR (auth.uid() = client_id))",null
public,habits,Coaches can manage their own habits,PERMISSIVE,{public},ALL,(auth.uid() = coach_id),null
public,habits,habits_delete,PERMISSIVE,{public},DELETE,"((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,habits,habits_insert,PERMISSIVE,{public},INSERT,null,"((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,habits,habits_select,PERMISSIVE,{public},SELECT,"((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM habit_assignments
  WHERE ((habit_assignments.habit_id = habits.id) AND (habit_assignments.client_id = auth.uid()) AND (habit_assignments.is_active = true)))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,habits,habits_update,PERMISSIVE,{public},UPDATE,"((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))","((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,habit_assignments,Clients can view their own assignments,PERMISSIVE,{public},SELECT,(auth.uid() = client_id),null
public,habit_assignments,Coaches can manage assignments for their habits,PERMISSIVE,{public},ALL,"(EXISTS ( SELECT 1
   FROM habits
  WHERE ((habits.id = habit_assignments.habit_id) AND (habits.coach_id = auth.uid()))))",null
public,habit_logs,Clients can manage their own habit logs,PERMISSIVE,{public},ALL,(auth.uid() = client_id),null
public,habit_logs,habit_logs_delete,PERMISSIVE,{public},DELETE,(client_id = auth.uid()),null
public,habit_logs,habit_logs_insert,PERMISSIVE,{public},INSERT,null,(client_id = auth.uid())
public,habit_logs,habit_logs_select,PERMISSIVE,{public},SELECT,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = habit_logs.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,habit_logs,habit_logs_update,PERMISSIVE,{public},UPDATE,(client_id = auth.uid()),(client_id = auth.uid())
public,leaderboard_titles,Anyone can view leaderboard titles,PERMISSIVE,{authenticated},SELECT,true,null
public,client_workout_block_exercises,Coaches delete client workout exercises,PERMISSIVE,{authenticated},DELETE,"(client_id IN ( SELECT clients.client_id
   FROM clients
  WHERE (clients.coach_id = auth.uid())))",null
public,client_workout_block_exercises,Coaches insert client workout exercises,PERMISSIVE,{authenticated},INSERT,null,"(client_id IN ( SELECT clients.client_id
   FROM clients
  WHERE (clients.coach_id = auth.uid())))"
public,client_workout_block_exercises,Coaches select client workout exercises,PERMISSIVE,{authenticated},SELECT,"(client_id IN ( SELECT clients.client_id
   FROM clients
  WHERE (clients.coach_id = auth.uid())))",null
public,client_workout_block_exercises,client_workout_block_exercises_update,PERMISSIVE,{public},UPDATE,"((client_id IN ( SELECT clients.client_id
   FROM clients
  WHERE (clients.coach_id = auth.uid()))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))","((client_id IN ( SELECT clients.client_id
   FROM clients
  WHERE (clients.coach_id = auth.uid()))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,client_workout_block_exercises,clients_view_block_exercises,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM (client_workout_blocks b
     JOIN clients c ON ((c.id = b.client_id)))
  WHERE ((b.id = client_workout_block_exercises.client_block_id) AND (c.client_id = auth.uid()))))",null
public,client_workout_block_exercises,coaches_manage_block_exercises,PERMISSIVE,{public},ALL,"(EXISTS ( SELECT 1
   FROM (client_workout_blocks b
     JOIN clients c ON ((c.id = b.client_id)))
  WHERE ((b.id = client_workout_block_exercises.client_block_id) AND (c.coach_id = auth.uid()))))","(EXISTS ( SELECT 1
   FROM (client_workout_blocks b
     JOIN clients c ON ((c.id = b.client_id)))
  WHERE ((b.id = client_workout_block_exercises.client_block_id) AND (c.coach_id = auth.uid()))))"
public,client_workout_blocks,Coaches delete client workout blocks,PERMISSIVE,{authenticated},DELETE,"(client_id IN ( SELECT clients.client_id
   FROM clients
  WHERE (clients.coach_id = auth.uid())))",null
public,client_workout_blocks,Coaches insert client workout blocks,PERMISSIVE,{authenticated},INSERT,null,"(client_id IN ( SELECT clients.id
   FROM clients
  WHERE (clients.coach_id = auth.uid())))"
public,client_workout_blocks,Coaches select client workout blocks,PERMISSIVE,{authenticated},SELECT,"(client_id IN ( SELECT clients.client_id
   FROM clients
  WHERE (clients.coach_id = auth.uid())))",null
public,client_workout_blocks,client_workout_blocks_update,PERMISSIVE,{public},UPDATE,"((client_id IN ( SELECT clients.client_id
   FROM clients
  WHERE (clients.coach_id = auth.uid()))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))","((client_id IN ( SELECT clients.client_id
   FROM clients
  WHERE (clients.coach_id = auth.uid()))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,client_workout_blocks,clients_view_client_blocks,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM clients c
  WHERE ((c.id = client_workout_blocks.client_id) AND (c.client_id = auth.uid()))))",null
public,client_workout_blocks,coaches_manage_client_blocks,PERMISSIVE,{public},ALL,"(EXISTS ( SELECT 1
   FROM clients c
  WHERE ((c.id = client_workout_blocks.client_id) AND (c.coach_id = auth.uid()))))","(EXISTS ( SELECT 1
   FROM clients c
  WHERE ((c.id = client_workout_blocks.client_id) AND (c.coach_id = auth.uid()))))"
public,meal_plan_items,Clients can read assigned meal plan items,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM (meal_plans
     JOIN meal_plan_assignments ON ((meal_plan_assignments.meal_plan_id = meal_plans.id)))
  WHERE ((meal_plans.id = meal_plan_items.meal_plan_id) AND (meal_plan_assignments.client_id = auth.uid()))))",null
public,meal_plan_items,Coaches can manage meal plan items,PERMISSIVE,{public},ALL,(coach_id = auth.uid()),null
public,program_assignment_progress,program_assignment_progress_delete,PERMISSIVE,{public},DELETE,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = program_assignment_progress.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,program_assignment_progress,program_assignment_progress_insert,PERMISSIVE,{public},INSERT,null,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = program_assignment_progress.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,program_assignment_progress,program_assignment_progress_select,PERMISSIVE,{public},SELECT,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = program_assignment_progress.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,program_assignment_progress,program_assignment_progress_update,PERMISSIVE,{public},UPDATE,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = program_assignment_progress.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))","((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = program_assignment_progress.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,program_workout_completions,program_workout_completions_delete,PERMISSIVE,{public},DELETE,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = program_workout_completions.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,program_workout_completions,program_workout_completions_insert,PERMISSIVE,{public},INSERT,null,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = program_workout_completions.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,program_workout_completions,program_workout_completions_select,PERMISSIVE,{public},SELECT,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = program_workout_completions.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,program_workout_completions,program_workout_completions_update,PERMISSIVE,{public},UPDATE,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = program_workout_completions.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))","((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = program_workout_completions.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,performance_tests,performance_tests_delete_own,PERMISSIVE,{public},DELETE,(auth.uid() = client_id),null
public,performance_tests,performance_tests_insert_own,PERMISSIVE,{public},INSERT,null,(auth.uid() = client_id)
public,performance_tests,performance_tests_select_coach,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM profiles p
  WHERE ((p.id = auth.uid()) AND (p.role = ANY (ARRAY['coach'::text, 'admin'::text, 'super_coach'::text, 'supercoach'::text])) AND ((EXISTS ( SELECT 1
           FROM workout_assignments wa
          WHERE ((wa.client_id = performance_tests.client_id) AND (wa.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
           FROM program_assignments pa
          WHERE ((pa.client_id = performance_tests.client_id) AND (pa.coach_id = auth.uid()))))))))",null
public,performance_tests,performance_tests_select_own,PERMISSIVE,{public},SELECT,(auth.uid() = client_id),null
public,performance_tests,performance_tests_update,PERMISSIVE,{public},UPDATE,(client_id = auth.uid()),(client_id = auth.uid())
public,coach_time_slots,Anyone can view available time slots,PERMISSIVE,{public},SELECT,true,null
public,coach_time_slots,Coaches can manage their own time slots,PERMISSIVE,{public},ALL,"((auth.uid() = coach_id) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'coach'::text)))))","((auth.uid() = coach_id) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'coach'::text)))))"
public,booked_sessions,Clients can book sessions,PERMISSIVE,{public},INSERT,null,"((auth.uid() = client_id) AND (EXISTS ( SELECT 1
   FROM coach_time_slots
  WHERE ((coach_time_slots.id = booked_sessions.time_slot_id) AND (coach_time_slots.is_available = true)))))"
public,booked_sessions,Clients can cancel their own sessions,PERMISSIVE,{public},UPDATE,((auth.uid() = client_id) AND (status = 'scheduled'::text)),"((auth.uid() = client_id) AND (status = ANY (ARRAY['cancelled'::text, 'scheduled'::text])))"
public,booked_sessions,Clients can view their own booked sessions,PERMISSIVE,{public},SELECT,((auth.uid() = client_id) OR (auth.uid() = coach_id)),null
public,booked_sessions,Coaches can update session details,PERMISSIVE,{public},UPDATE,(auth.uid() = coach_id),(auth.uid() = coach_id)
public,booked_sessions,Coaches can view their sessions,PERMISSIVE,{public},SELECT,"((auth.uid() = coach_id) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'coach'::text)))))",null
public,exercise_alternatives,Anyone can read exercise alternatives,PERMISSIVE,{public},SELECT,(auth.role() = 'authenticated'::text),null
public,exercise_alternatives,Coaches can delete exercise alternatives for their exercises,PERMISSIVE,{public},DELETE,"((EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'coach'::text)))) AND (EXISTS ( SELECT 1
   FROM exercises
  WHERE ((exercises.id = exercise_alternatives.primary_exercise_id) AND (exercises.coach_id = auth.uid())))))",null
public,exercise_alternatives,Coaches can insert exercise alternatives for their exercises,PERMISSIVE,{public},INSERT,null,"((EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'coach'::text)))) AND (EXISTS ( SELECT 1
   FROM exercises
  WHERE ((exercises.id = exercise_alternatives.primary_exercise_id) AND (exercises.coach_id = auth.uid())))) AND (EXISTS ( SELECT 1
   FROM exercises
  WHERE ((exercises.id = exercise_alternatives.alternative_exercise_id) AND (exercises.coach_id = auth.uid())))))"
public,exercise_alternatives,Coaches can update exercise alternatives for their exercises,PERMISSIVE,{public},UPDATE,"((EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'coach'::text)))) AND (EXISTS ( SELECT 1
   FROM exercises
  WHERE ((exercises.id = exercise_alternatives.primary_exercise_id) AND (exercises.coach_id = auth.uid())))))","((EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'coach'::text)))) AND (EXISTS ( SELECT 1
   FROM exercises
  WHERE ((exercises.id = exercise_alternatives.primary_exercise_id) AND (exercises.coach_id = auth.uid())))))"
public,workout_hr_sets,Clients can view HR sets for assigned workouts,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM ((workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
     JOIN workout_assignments wa ON ((wt.id = wa.workout_template_id)))
  WHERE ((wb.id = workout_hr_sets.block_id) AND (wa.client_id = auth.uid()))))",null
public,workout_hr_sets,Coaches can manage HR sets for their templates,PERMISSIVE,{public},ALL,"((EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_hr_sets.block_id) AND (wt.coach_id = auth.uid())))) OR is_admin(auth.uid()))","((EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_hr_sets.block_id) AND (wt.coach_id = auth.uid())))) OR is_admin(auth.uid()))"
public,workout_logs,Clients can insert their own workout logs,PERMISSIVE,{authenticated},INSERT,null,(auth.uid() = client_id)
public,workout_logs,Clients can read their own workout logs,PERMISSIVE,{authenticated},SELECT,(auth.uid() = client_id),null
public,workout_logs,Clients can update their own workout logs,PERMISSIVE,{authenticated},UPDATE,(auth.uid() = client_id),(auth.uid() = client_id)
public,exercises,Coaches can manage their exercises,PERMISSIVE,{public},ALL,(auth.uid() = coach_id),null
public,exercises,exercises_delete_coach,PERMISSIVE,{public},DELETE,"((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,exercises,exercises_insert_coach,PERMISSIVE,{public},INSERT,null,"((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,exercises,exercises_select_public,PERMISSIVE,{public},SELECT,(auth.role() = 'authenticated'::text),null
public,exercises,exercises_update_coach,PERMISSIVE,{public},UPDATE,"((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))","((coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,body_metrics,Clients can view their own body metrics,PERMISSIVE,{public},SELECT,(client_id = auth.uid()),null
public,body_metrics,Coaches can view their clients' body metrics,PERMISSIVE,{public},ALL,"((client_id IN ( SELECT clients.client_id
   FROM clients
  WHERE (clients.coach_id = auth.uid()))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,fms_assessments,fms_assessments_delete,PERMISSIVE,{public},DELETE,"((client_id = auth.uid()) OR (coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = fms_assessments.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,fms_assessments,fms_assessments_insert,PERMISSIVE,{public},INSERT,null,"((client_id = auth.uid()) OR (coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,fms_assessments,fms_assessments_select,PERMISSIVE,{public},SELECT,"((client_id = auth.uid()) OR (coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = fms_assessments.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,fms_assessments,fms_assessments_update,PERMISSIVE,{public},UPDATE,"((client_id = auth.uid()) OR (coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = fms_assessments.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))","((client_id = auth.uid()) OR (coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = fms_assessments.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,achievements,achievements_delete,PERMISSIVE,{public},DELETE,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = achievements.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,achievements,achievements_insert,PERMISSIVE,{public},INSERT,null,(client_id = auth.uid())
public,achievements,achievements_select,PERMISSIVE,{public},SELECT,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = achievements.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,achievements,achievements_update,PERMISSIVE,{public},UPDATE,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = achievements.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))","((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = achievements.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,personal_records,personal_records_delete,PERMISSIVE,{public},DELETE,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = personal_records.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,personal_records,personal_records_insert,PERMISSIVE,{public},INSERT,null,(client_id = auth.uid())
public,personal_records,personal_records_select,PERMISSIVE,{public},SELECT,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = personal_records.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,personal_records,personal_records_update,PERMISSIVE,{public},UPDATE,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = personal_records.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))","((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = personal_records.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,workout_exercise_logs,workout_exercise_logs_delete,PERMISSIVE,{public},DELETE,"((EXISTS ( SELECT 1
   FROM workout_logs wl
  WHERE ((wl.id = workout_exercise_logs.workout_log_id) AND ((wl.client_id = auth.uid()) OR (EXISTS ( SELECT 1
           FROM clients c
          WHERE ((c.client_id = wl.client_id) AND (c.coach_id = auth.uid())))))))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,workout_exercise_logs,workout_exercise_logs_insert,PERMISSIVE,{public},INSERT,null,"((EXISTS ( SELECT 1
   FROM workout_logs wl
  WHERE ((wl.id = workout_exercise_logs.workout_log_id) AND (wl.client_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,workout_exercise_logs,workout_exercise_logs_select,PERMISSIVE,{public},SELECT,"((EXISTS ( SELECT 1
   FROM workout_logs wl
  WHERE ((wl.id = workout_exercise_logs.workout_log_id) AND ((wl.client_id = auth.uid()) OR (EXISTS ( SELECT 1
           FROM clients c
          WHERE ((c.client_id = wl.client_id) AND (c.coach_id = auth.uid())))))))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,workout_exercise_logs,workout_exercise_logs_update,PERMISSIVE,{public},UPDATE,"((EXISTS ( SELECT 1
   FROM workout_logs wl
  WHERE ((wl.id = workout_exercise_logs.workout_log_id) AND ((wl.client_id = auth.uid()) OR (EXISTS ( SELECT 1
           FROM clients c
          WHERE ((c.client_id = wl.client_id) AND (c.coach_id = auth.uid())))))))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))","((EXISTS ( SELECT 1
   FROM workout_logs wl
  WHERE ((wl.id = workout_exercise_logs.workout_log_id) AND ((wl.client_id = auth.uid()) OR (EXISTS ( SELECT 1
           FROM clients c
          WHERE ((c.client_id = wl.client_id) AND (c.coach_id = auth.uid())))))))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,mobility_metrics,mobility_metrics_delete,PERMISSIVE,{public},DELETE,"((client_id = auth.uid()) OR (coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = mobility_metrics.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,mobility_metrics,mobility_metrics_insert,PERMISSIVE,{public},INSERT,null,"((client_id = auth.uid()) OR (coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,mobility_metrics,mobility_metrics_select,PERMISSIVE,{public},SELECT,"((client_id = auth.uid()) OR (coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = mobility_metrics.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))",null
public,mobility_metrics,mobility_metrics_update,PERMISSIVE,{public},UPDATE,"((client_id = auth.uid()) OR (coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = mobility_metrics.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))","((client_id = auth.uid()) OR (coach_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients
  WHERE ((clients.client_id = mobility_metrics.client_id) AND (clients.coach_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,goals,Coaches can view client goals,PERMISSIVE,{public},SELECT,(auth.uid() = coach_id),null
public,goals,Users can delete their own goals,PERMISSIVE,{public},DELETE,(auth.uid() = client_id),null
public,goals,Users can insert their own goals,PERMISSIVE,{public},INSERT,null,(auth.uid() = client_id)
public,goals,Users can view their own goals,PERMISSIVE,{public},SELECT,(auth.uid() = client_id),null
public,goals,goals_update_own,PERMISSIVE,{public},UPDATE,(client_id = auth.uid()),(client_id = auth.uid())
public,leaderboard_entries,leaderboard_entries_manage_coach,PERMISSIVE,{public},ALL,"(EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text, 'super_coach'::text, 'supercoach'::text])))))",null
public,leaderboard_entries,leaderboard_entries_select_all,PERMISSIVE,{public},SELECT,true,null
public,user_exercise_metrics,Users view own metrics,PERMISSIVE,{public},SELECT,(auth.uid() = user_id),null
public,user_exercise_metrics,user_exercise_metrics_insert_own,PERMISSIVE,{public},INSERT,null,(user_id = auth.uid())
public,user_exercise_metrics,user_exercise_metrics_update_own,PERMISSIVE,{public},UPDATE,(user_id = auth.uid()),(user_id = auth.uid())
public,client_program_progression_rules,Clients can view their own progression rules,PERMISSIVE,{public},SELECT,"((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM clients c
  WHERE ((c.client_id = client_program_progression_rules.client_id) AND (c.coach_id = auth.uid())))) OR is_admin(auth.uid()))",null
public,client_program_progression_rules,Coaches delete client program rules,PERMISSIVE,{authenticated},DELETE,"(client_id IN ( SELECT clients.client_id
   FROM clients
  WHERE (clients.coach_id = auth.uid())))",null
public,client_program_progression_rules,Coaches insert client program rules,PERMISSIVE,{authenticated},INSERT,null,"(client_id IN ( SELECT clients.client_id
   FROM clients
  WHERE (clients.coach_id = auth.uid())))"
public,client_program_progression_rules,Coaches select client program rules,PERMISSIVE,{authenticated},SELECT,"(client_id IN ( SELECT clients.client_id
   FROM clients
  WHERE (clients.coach_id = auth.uid())))",null
public,client_program_progression_rules,client_program_progression_rules_update,PERMISSIVE,{public},UPDATE,"((client_id IN ( SELECT clients.client_id
   FROM clients
  WHERE (clients.coach_id = auth.uid()))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))","((client_id IN ( SELECT clients.client_id
   FROM clients
  WHERE (clients.coach_id = auth.uid()))) OR (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'admin'::text)))))"
public,program_progression_rules,Coaches can delete progression rules for their programs,PERMISSIVE,{public},DELETE,"(EXISTS ( SELECT 1
   FROM workout_programs wp
  WHERE ((wp.id = program_progression_rules.program_id) AND (wp.coach_id = auth.uid()))))",null
public,program_progression_rules,Coaches can insert progression rules for their programs,PERMISSIVE,{public},INSERT,null,"(EXISTS ( SELECT 1
   FROM workout_programs wp
  WHERE ((wp.id = program_progression_rules.program_id) AND (wp.coach_id = auth.uid()))))"
public,program_progression_rules,Coaches can update progression rules for their programs,PERMISSIVE,{public},UPDATE,"(EXISTS ( SELECT 1
   FROM workout_programs wp
  WHERE ((wp.id = program_progression_rules.program_id) AND (wp.coach_id = auth.uid()))))","(EXISTS ( SELECT 1
   FROM workout_programs wp
  WHERE ((wp.id = program_progression_rules.program_id) AND (wp.coach_id = auth.uid()))))"
public,program_progression_rules,Coaches can view progression rules for their programs,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM workout_programs wp
  WHERE ((wp.id = program_progression_rules.program_id) AND (wp.coach_id = auth.uid()))))",null
public,workout_drop_sets,Clients can view drop sets in assigned workouts,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM ((workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
     JOIN workout_assignments wa ON ((wt.id = wa.workout_template_id)))
  WHERE ((wb.id = workout_drop_sets.block_id) AND (wa.client_id = auth.uid()))))",null
public,workout_drop_sets,Coaches can delete drop sets from their blocks,PERMISSIVE,{public},DELETE,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_drop_sets.block_id) AND (wt.coach_id = auth.uid()))))",null
public,workout_drop_sets,Coaches can insert drop sets into their blocks,PERMISSIVE,{public},INSERT,null,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_drop_sets.block_id) AND (wt.coach_id = auth.uid()))))"
public,workout_drop_sets,Coaches can update drop sets in their blocks,PERMISSIVE,{public},UPDATE,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_drop_sets.block_id) AND (wt.coach_id = auth.uid()))))","(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_drop_sets.block_id) AND (wt.coach_id = auth.uid()))))"
public,workout_drop_sets,Coaches can view drop sets in their blocks,PERMISSIVE,{public},SELECT,"((EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_drop_sets.block_id) AND (wt.coach_id = auth.uid())))) OR is_admin(auth.uid()))",null
public,workout_pyramid_sets,Coaches can delete pyramid sets from their blocks,PERMISSIVE,{public},DELETE,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_pyramid_sets.block_id) AND (wt.coach_id = auth.uid()))))",null
public,workout_pyramid_sets,Coaches can insert pyramid sets into their blocks,PERMISSIVE,{public},INSERT,null,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_pyramid_sets.block_id) AND (wt.coach_id = auth.uid()))))"
public,workout_pyramid_sets,Coaches can update pyramid sets in their blocks,PERMISSIVE,{public},UPDATE,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_pyramid_sets.block_id) AND (wt.coach_id = auth.uid()))))","(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_pyramid_sets.block_id) AND (wt.coach_id = auth.uid()))))"
public,workout_pyramid_sets,Coaches can view pyramid sets in their blocks,PERMISSIVE,{public},SELECT,"(EXISTS ( SELECT 1
   FROM (workout_blocks wb
     JOIN workout_templates wt ON ((wb.template_id = wt.id)))
  WHERE ((wb.id = workout_pyramid_sets.block_id) AND (wt.coach_id = auth.uid()))))",null
public,achievement_templates,Achievement templates are viewable by everyone,PERMISSIVE,{public},SELECT,true,null
public,achievement_templates,achievement_templates_insert_coach_admin,PERMISSIVE,{public},INSERT,null,"(EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text])))))"
public,achievement_templates,achievement_templates_update_coach_admin,PERMISSIVE,{public},UPDATE,"(EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text])))))","(EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = ANY (ARRAY['coach'::text, 'admin'::text])))))"
public,user_achievements,Users can insert their own achievements,PERMISSIVE,{public},INSERT,null,(auth.uid() = client_id)
public,user_achievements,Users can view their own achievements,PERMISSIVE,{public},SELECT,(auth.uid() = client_id),null
public,user_achievements,user_achievements_insert_own,PERMISSIVE,{public},INSERT,null,(client_id = auth.uid())